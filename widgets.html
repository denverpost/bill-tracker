<!DOCTYPE html>
<html>
<head>
    <title>Widgets</title>
    <meta charset="utf-8">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
</head>
<body>
<h1>Widgets!</h1>

<h2>In-article</h2>
<p><a href="">Here's one article you can find it</a>. In NGPS it's  in-article bill tracker widget (29537676) </p>

<style type="text/css">
.tracker_widget {
    width: 250px;
}
</style>
<div id="tracker_widget" class="tracker_widget">
    <h2><a href="http://www.denverpost.com/bill-tracker" title="Colorado Bill Tracker">Bill Tracker</a></h2>
    <p>
        <a href="/bill-tracker">Get details on Colorado state legislation</a>.
    </p>
    <h3><a href="http://extras.denverpost.com/app/bill-tracker/bills/2016a/">New legislation</a></h3>
    <ul id="new-leg"></ul>
    <p>&rsaquo; <a href="javascript:billt.clear_list('new-leg'); billt.get_new_leg();">More new legislation</a></p>
</div>
<script>
var billt = {
    rand: function(max) { return Math.floor(Math.random() * max) + 1; },
    clear_list: function(id) { jQuery('#' + id).html(''); },
    bill_markup: function(bill) {
        return '<li><a href="' + bill['url'] + '">' + bill['title'] + '</a></li>';
    },
    add_item: function(id, markup) { jQuery('#' + id).append(markup); },
    get_new_leg: function() {
        var newleg = [this.rand(15), this.rand(15)];
        // Make sure we're not pulling the same recent bill.
        while ( newleg[0] == newleg[1] ) {
            newleg[1] = this.rand(15);
        }
        this.add_item('new-leg', this.bill_markup(bills[newleg[0]]));
        this.add_item('new-leg', this.bill_markup(bills[newleg[1]]));
    },
    init: function() {
        jQuery.getScript('http://extras.denverpost.com/app/bill-tracker/bills/2016a.js', function() {
            billt.get_new_leg();
    });
    }
}
billt.init();
</script>

<h2>NGPS Section Front</h2>
<p>Used in the left column on <a href="http://denverpost.com/legislature">denverpost.com/legislature</a>.</p>
<table border="0" cellpadding="0" cellspacing="0" width="100%" class="complexListingBox">
    <tr>
        <td class="complexListingImage" valign="top" align="left"></td>
        <td valign="top" align="left">
            <div>
                <a href="http://www.denverpost.com/bill-tracker">
                    <span class="complexListingTitle">BILL TRACKER</span>
                </a>
            </div>
        </td>
    </tr>
    <tr>
        <td colspan=2 valign="top">
            <div>
                <li class="listNoImage">
                    <a href="/bill-tracker" class="complexListingLink">
                        Get the latest on Colorado state legislation
                    </a>
                    <span class="originatingSource"></span>
                    <span class="listingItemDate"><!-- - 03/03/2016 01:29 PM MST--></span>
            </div><!-- END ForEach -->
        </td>
    </tr>
    <tr><td align="left" valign="top" class="complexListingFooter" colspan="2">&nbsp;</td></tr>
</table>

</body>
</html>
